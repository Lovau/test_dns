(this.webpackJsonpurl_app=this.webpackJsonpurl_app||[]).push([[0],{46:function(t,e,n){},47:function(t,e,n){},56:function(t,e){},58:function(t,e){},75:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(8),s=n.n(c),i=(n(46),n(47),n(41)),o=n(25),u=n(17),l=n(18),d=n(19),h=n(21),p=n(20),j=n(40),f=n(39),b=n(24),v=n(7),m=n.n(v),x=n(14),g=n(2),S=n(26),O=n(50),k=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={sgtin:r.getRandomSGTIN()},r.state={url:t.domain+"/"+r.state.sgtin},r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.update&&!this.state.cname&&this.getDNSDetails(this.props.domain)}},{key:"componentDidUpdate",value:function(){this.props.update&&!this.state.cname&&this.getDNSDetails(this.props.domain)}},{key:"_randomstring",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",r="0123456789";e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZ");for(var a=r.length,c=0;c<t;c++)n+=r.charAt(Math.floor(Math.random()*a));return n}},{key:"getRandomSGTIN",value:function(){return"0123"}},{key:"_removeDomainProtocol",value:function(t){return t.includes("https://")?t=t.replace("https://",""):t.includes("http://")&&(t=t.replace("http://","")),t}},{key:"dnsExist",value:function(){var t=Object(x.a)(m.a.mark((function t(e){var n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e=n._removeDomainProtocol(e),S("https://dns.google/resolve?name="+e).then((function(t){return t.json()})).then((function(e){if(e.Answer){var n=e.Answer[0].data;t(n)}r(e)})).catch((function(t){console.log(t),r(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSSLExpiryDate",value:function(){var t=Object(x.a)(m.a.mark((function t(e){var n=this;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){e=n._removeDomainProtocol(e),O.get(e).then((function(n){console.log("SSL expiry date for domain "+e+": "+n.valid_to),t(n.valid_to)})).catch((function(t){console.log("SSL domain for "+e,t),r(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getRedirect",value:function(){var t=Object(x.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){S(e,{method:"GET"}).then((function(n){console.log("Redirect for "+e+" is: "+n.url,n),t(n.url)})).catch((function(t){console.log("getRedirect err",e,t),n(t)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getDNSDetails",value:function(){var t=Object(x.a)(m.a.mark((function t(e){var n,r,a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.dnsExist(e);case 3:if(n=t.sent,this.setState({cname:n}),console.log(e+": CNAME",this.state.cname),!n){t.next=45;break}return t.prev=7,t.next=10,this.getSSLExpiryDate(e);case 10:r=t.sent,this.setState({SSLExpiryDate:r}),console.log(e+": SSL expiry Date",r),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(7),this.setState({SSLExpiryDate:"Unable to get SSL"}),console.log(e+": Error",t.t0);case 19:return t.prev=19,t.next=22,this.getRedirect(e);case 22:(a=t.sent)===e+"/"&&(a="No redirection"),this.setState({redirectWithoutSGTIN:a}),console.log(e+" redirects to "+a),t.next=32;break;case 28:t.prev=28,t.t1=t.catch(19),this.setState({redirectWithoutSGTIN:"Unable to get the redirection"}),console.log(e+": Error",t.t1);case 32:return t.prev=32,t.next=35,this.getRedirect(this.state.url);case 35:(c=t.sent)===this.state.url&&(c="No redirection"),this.setState({redirectWithSGTIN:c}),console.log(this.state.url+" redirects to "+c),t.next=45;break;case 41:t.prev=41,t.t2=t.catch(32),this.setState({redirectWithSGTIN:"Unable to get the redirection"}),console.log(e+": Error",t.t2);case 45:t.next=51;break;case 47:t.prev=47,t.t3=t.catch(0),this.setState({cname:"Doesn't exist"}),console.log(e+": Error",t.t3);case 51:case"end":return t.stop()}}),t,this,[[0,47],[7,15],[19,28],[32,41]])})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:this.state.url}),Object(g.jsx)("td",{children:this.state.cname}),Object(g.jsx)("td",{children:this.state.SSLExpiryDate}),Object(g.jsx)("td",{children:this.state.redirectWithoutSGTIN}),Object(g.jsx)("td",{children:this.state.redirectWithSGTIN})]})}}]),n}(a.a.Component),y=(n(26),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this,t)).state={urls:Array(2)},r.state.urls[0]={domain:"https://qru.aptamilessensis.com",update:!1},r.state.urls[1]={domain:"https://qr.aptaclub.de",update:!1},r.state.urls[2]={domain:"https://qrG.aptaclub.de",update:!1},r.handleClick=r.handleClick.bind(Object(d.a)(r)),r}return Object(l.a)(n,[{key:"handleClick",value:function(){console.log("click !");for(var t=this.state.urls,e=0;e<t.length;e++)t[e].update=!0;this.setState({urls:t})}},{key:"render",value:function(){var t=this.state.urls;console.log("domains",t);var e=t.map((function(t){return Object(g.jsx)(k,{domain:t.domain,update:t.update},t.domain)}));return Object(g.jsxs)(f.a,{children:[Object(g.jsx)(b.a,{sm:12,children:Object(g.jsx)("button",{onClick:this.handleClick,children:"trigger"})}),Object(g.jsx)(b.a,{sm:12,children:Object(g.jsxs)(j.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,size:"sm",className:"stubLinks",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:"URL"}),Object(g.jsx)("td",{children:"CNAME"}),Object(g.jsx)("td",{children:"SSL expiry date"}),Object(g.jsx)("td",{children:"Redirect without SGTIN"}),Object(g.jsx)("td",{children:"Redirect with SGTIN"})]})}),Object(g.jsx)("tbody",{children:e})]})})]})}}]),n}(a.a.Component));var D=function(){var t=Object(g.jsxs)(i.a,{fluid:!0,children:[Object(g.jsx)(o.a,{expand:"lg",variant:"dark",bg:"dark",children:Object(g.jsx)(o.a.Brand,{href:"#",children:"Rolex - URLs verification tool"})}),Object(g.jsx)(y,{})]});return s.a.render(t,document.getElementById("root"))},N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,77)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),c(t),s(t)}))};s.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(D,{})}),document.getElementById("root")),N()}},[[75,1,2]]]);
//# sourceMappingURL=main.5d5c5285.chunk.js.map